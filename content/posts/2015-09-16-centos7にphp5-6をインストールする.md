---
title: CentOS7にPHP5.6をインストールする
author: tomonori
type: post
date: 2015-09-15T16:57:57+00:00
url: /?p=1022
categories:
  - CentOS7
  - PHP

---
CentOS7にyumでPHPをインストールしようとしたがバージョンが5.4と古かったのでremiで5.6をインストールする。

### remiリポジトリをインストール、設定する

```:bash
# remiリポジトリの公開鍵を取り込む
rpm --import https://raw.githubusercontent.com/remicollet/remirepo/master/remi-release/RPM-GPG-KEY-remi

# yum-config-manager コマンドのインストールと remiリポジトリの追加
yum install yum-utils http://remi.kazukioishi.net/enterprise/remi-release-7.rpm

# remi-php56 リポジトリを有効化
yum-config-manager --enable remi-php56

# remiの設定を変更 / PHPのアップデートには常にremiを使うようにする
# yumプラグインのインストール
yum install yum-plugin-priorities

/etc/yum.repos.d/remi.repo

[remi]
name=Remi"s RPM repository for Enterprise Linux 7 - $basearch
#baseurl=http://rpms.remirepo.net/enterprise/7/remi/$basearch/
mirrorlist=http://rpms.remirepo.net/enterprise/7/remi/mirror
enabled=0
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi
priority=100
## ↑この行を追加 ##



# PHP と拡張モジュールなどをインストール
#### php-mysqlnd / PDOを扱うのに必要
#### php-mbstring / utf-8 のセキュリティを確保するのに必要
#### php-intl / Unicode に関する処理などに必要
#### php-gmp / 桁の大きい整数を扱う場合に必要

# 古いPHPをアンインストールしておく
yum remove php*

yum --enablerepo=remi,epel install php56-php php56-php-mbstring php56-php-pdo php56-php-mysqlnd php56-php-intl php56-php-gmp


# シンボリックリンクを変更する
ln -s /opt/remi/php56/root/etc/php.ini /etc/
ln -s /opt/remi/php56/root/etc/php.d /etc/
ln -s /usr/bin/php56 /usr/bin/php


# Timezoneを変更する
vi /etc/php.ini
    date.timezone = Asia/Tokyo

# Apacheの設定を変更する
vi /etc/httpd/conf.d/php56-php.conf

#
# Allow php to handle Multiviews
#
AddType text/html .php
AddType application/x-httpd-php .php
AddType application/x-httpd-php-source .phps


```

### 参考サイト

  * [CentOS 7 に PHP 5.6 と phpMyAdmin をインストール &#8211; Qiita](http://qiita.com/100/items/8e9d9540845cc23e6111)
  * [【CentOS7】＜メモ＞ Webサーバー セットアップ &#8211; Qiita](http://qiita.com/tsukasa-koizumi/items/78cc816e24d84eedecbb)