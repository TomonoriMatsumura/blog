---
title: CentOS6.3にRuby1.9をインストールする
author: tomonori
type: post
date: 2012-10-25T10:37:11+00:00
url: /?p=13
categories:
  - CentOS6
  - Ruby

---
そろそろPHPに見切りをつけようと思い、Rubyの勉強のためRuby環境をローカルに構築する。

このサイトを参考にRPM（Ruby Package Manager）を使用する方法でインストールする。
  
http://morizyun.github.com/blog/rvm-install-centos-ruby-rails/

#### libyamlのインストール

Rubyをyumで入れると、1.8系しか入らないのでソースから入れる事にする。

まず[libyaml][1]をインストール。libyaml-0.so.2等が/usr/local/lib以下にインストールされるように**./configure &#8211;prefix=/usr/local**を指定。

```:bash
cd /usr/local/src
wget http://pyyaml.org/download/libyaml/yaml-0.1.4.tar.gz
tar zxvf yaml-0.1.4.tar.gz
cd yaml-0.1.4
./configure --prefix=/usr/local
make
sudo make install
```

#### rubyのインストール

Rubyをインストール。最新版は[ここ][2]から確認出来る。

```:bash
cd /usr/local/src
wget ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p392.tar.gz
tar zxvf ruby-1.9.3-p392.tar.gz
cd ruby-1.9.3-p392
./configure --prefix=/usr/local --enable-shared --disable-install-doc --with-opt-dir=/usr/local/lib
make
sudo make install```

#### rubygemsのインストール

Ruby1.9より標準で組み込まれているのでそれより以前のバージョンを使うときのみ手動でインストールする。

#### Railsのインストール

```:bash
gem install rails```

結構時間がかかる。Rdocとかかなりの数をインストールするみたいな感じ。

#### Passenger のインストール

RailsとApacheを連動させるPasssengerをインストールする。これがないと基本的にRailsが動かない。

```:bash
gem install passenger
passenger-install-apache2-module```

このプロセスでエラーが出て必要ライブラリをインストールするように指示が出た場合は、各ライブラリをインストールしなおしてRubyを再コンパイル

```:bash
cd /usr/local/src
wget ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p286.tar.gz
tar zxvf ruby-1.9.3-p286.tar.gz
cd ruby-1.9.3-p286
./configure --prefix=/usr/local --enable-shared --disable-install-doc --with-opt-dir=/usr/local/lib
make
sudo make install&lt;/pre&gt;
vim /etc/httpd/conf.d/ruby-passenger.conf

#######################ruby-passenger.conf は以下の通り作成
LoadModule passenger_module /usr/lib/ruby/gems/1.8/gems/passenger-2.2.9/ext/apache2/mod_passenger.so
PassengerRoot /usr/lib/ruby/gems/1.8/gems/passenger-2.2.9
PassengerRuby /usr/bin/ruby
#######################
```

#### FastCGI（fcgi）のインストール

http://www.movabletype.jp/documentation/developer/server/fastcgi.html
  
とりあえず一休み。。。

#### RDTキットのインストール

http://www.kkaneko.com/rinkou/javaintro/ruby.html

 [1]: http://pyyaml.org/wiki/LibYAML
 [2]: ftp://ftp.ruby-lang.org/pub/ruby/