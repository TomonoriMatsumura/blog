---
title: Gitリポジトリを移設する
author: tomonori
type: post
date: 2015-12-16T10:00:23+00:00
url: /?p=1101
categories:
  - Git

---
### 移設側でリポジトリのリストを作成する

```:bash
ls /var/git -l | grep ^d | awk "{print $9}" &gt; git.list.txt
```

### 移設先で共有ベアリポジトリを作成する

```:bash
# 「git.list.txt」を取得しておく

cd /var/git
while read line; do mkdir $line; cd $line; git init --bare --shared; cd /var/git; done &lt; git.list.txt
```

### 移設元から移設先へリポジトリをpushする

```:bash
cd /var/git
while read line; do if [ -d ${line} ]; then cd ${line}; git push --mirror ssh://git@{git-server}:{port}/var/git/${line}; fi; cd /var/git; done &lt; git.list.txt
```

### 参考サイト

  * [Git &#8211; サーバーのセットアップ][1]

 [1]: https://git-scm.com/book/ja/v1/Git-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97