<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VNC on Mainroad</title><link>https://tomonorimatsumura.github.io/blog/categories/vnc/</link><description>Recent content in VNC on Mainroad</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Thu, 29 Oct 2015 17:09:54 +0000</lastBuildDate><atom:link href="https://tomonorimatsumura.github.io/blog/categories/vnc/index.xml" rel="self" type="application/rss+xml"/><item><title>さくらのVPSにインストールしたCentOS7でVNCを利用する</title><link>https://tomonorimatsumura.github.io/blog/p1038/</link><pubDate>Thu, 29 Oct 2015 17:09:54 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p1038/</guid><description>1. 必要なパッケージのインストール yum install tigervnc-server yum groupinstall &amp;quot;GNOME Desktop&amp;quot; yum install vnc VNCサーバの設定 cp /lib/systemd/system/vncserver@.service \ /etc/systemd/system/vncserver@:1.service vi /etc/systemd/system/vncserver@:1.service #&amp;amp;lt;USER&amp;amp;gt;をVNC USERに書き換える ExecStart=/sbin/runuser -l vncuser -c &amp;quot;/usr/bin/vncserver %i&amp;quot; PIDFile=/home/vncuser/.vnc/%H%i.pid # systemdに設定ファイルを再度読込みをさせる。 systemctl daemon-reload VNCユーザの設定 ログインユーザーをVNCユーザーに切り替えてパスワードを変更する
su vncuser vncpasswd &amp;amp;lt;enter&amp;amp;gt; Password: ****** &amp;amp;lt;enter&amp;amp;gt; Verify: ***** &amp;amp;lt;enter&amp;amp;gt; ファイアウォールの設定 firewall-cmd --permanent --add-service vnc-server systemctl restart firewalld.service VNCサービスの起動 systemctl start vncserver@:1.service # VNCサービスの自動起動設定を行う systemctl enable vncserver@:1.service クライアントからVNCを使う F8でフルスクリーンモードの切り替え設定が可能になる
vncviewer yourhost:1 参考サイト [CentOS]CentOS7最小限のインストールからのGnomeデスクトップ環境構築 | Zero Configuration</description></item><item><title>Windows7でTigerVNCを使用する</title><link>https://tomonorimatsumura.github.io/blog/p859/</link><pubDate>Sun, 15 Sep 2013 07:49:49 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p859/</guid><description>以下に注意！
ポートフォワーディングが使えない 日本語入力は『**ctrl + space key』で切り替える。
参考サイト 緋色のスパイラルノート : Fedora16</description></item><item><title>CentOS6でVNCをポートフォワーディングで接続する</title><link>https://tomonorimatsumura.github.io/blog/p687/</link><pubDate>Thu, 14 Feb 2013 06:53:20 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p687/</guid><description>SSH接続ポート番号を指定する vncviwerコマンドではSSH接続ポート番号が指定出来ないみたいなので、「/etc/ssh/ssh_config」か「~/.ssh/config」でポート番号を指定しておく。またサーバ側の「/etc/ssh/sshd_config」のAllowTcpForwardingをyesにしておく。
ポートフォワーディングで接続確認をする ポートフォワーディングの設定がうまくいっていないとVNC Viewerが立ち上がらないので接続確認を行う。リモートのユーザーフォルダの.sshにローカルの公開鍵ファイルがないとポートフォワーディングがうまくいかないので注意
# ssh -L [ローカルホストポート]:[リモートホスト]:[リモートホストポート] [リモートホスト] -l [リモートホストのユーザ名] $ ssh -L 1234:192.168.1.22:5901 192.168.1.22 -l user VNC Viewerを起動する VNC SERVERの設定をポートフォワーディング用に設定する。
vi /etc/sysconfig/vncservers VNCSERVERS=&amp;quot;1:vncuser&amp;quot; VNCSERVERARGS[1]=&amp;quot;-geometry 2560x800 -localhost&amp;quot; ローカルマシーンで以下のコマンドで起動させる。
vncviewer -via {vncuser}@{hostname} localhost:1 参考サイト SSH ポートフォワーディングでVNCを使う [ubuntu] How do I VNC via SSH when both are not set to use the default port numbers?</description></item><item><title>さくらのVPSでVNCを起動する</title><link>https://tomonorimatsumura.github.io/blog/p646/</link><pubDate>Sat, 02 Feb 2013 04:26:45 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p646/</guid><description>リモート開発をするのに、VNC経由の方が簡単なんじゃないかと思い、VNC環境を入れてみた。一応このサイトの手順通りで大体は環境構築が可能だと思う。
1. 必要なパッケージのインストール サーバ 想定される環境だと、tigervnc-serverとデスクトップパッケージをインストールする必要がある。rpmからインストールする。
yum install tigervnc-server yum groupinstall &amp;quot;Desktop&amp;quot;; yum install -y gnome* # システムモニターなどが使えるようになる このコマンドは無効化も知れない yum groupinstall &amp;quot;Desktop&amp;quot; &amp;quot;Desktop Platform&amp;quot; &amp;quot;General Purpose Desktop&amp;quot; yum groupinstall &amp;quot;X Window System&amp;quot;; CentOSを日本語化するにはこちらを参考にする。
クライアント こちらもrpmからインストール。インストールが完了すれば、デスクトップ→アプリケーション→インターネット→TigerVNC Viewverから起動可能になる。
yum install vnc VNCサーバの設定 vi /etc/sysconfig/vncservers # 以下を追加 (画面ソリューションの「x」は小文字のxでないとエラーになるので注意！) VNCSERVERS=&amp;quot;1:vncuser&amp;quot; VNCSERVERARGS[1]=&amp;quot;-geometry 800x600&amp;quot; 複数ユーザを設定する場合は
vi /etc/sysconfig/vncservers # 以下を追加 (画面ソリューションの「x」は小文字のxでないとエラーになるので注意！) VNCSERVERS=&amp;quot;1:vncuser1 2:vncuser2&amp;quot; VNCSERVERARGS[1]=&amp;quot;-geometry 800x600&amp;quot; VNCSERVERARGS[2]=&amp;quot;-geometry 800x600&amp;quot; VNCユーザの設定 ログインユーザーをVNCユーザーに切り替えてパスワードを変更する
su vncuser vncpasswd &amp;amp;lt;enter&amp;amp;gt; Password: ****** &amp;amp;lt;enter&amp;amp;gt; Verify: ***** &amp;amp;lt;enter&amp;amp;gt; パケットフィルタリングの設定 想定される環境だとiptablesの設定ファイルが作成されていないので作成してアクセス制限をかける。以下の設定はポートだけ開放した状態。別途IPアドレス制限も設けた方が良いかもだが、テサリング時には逆に不便なので今回はポートのみ開放しておく。</description></item></channel></rss>