<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jenkins on Mainroad</title><link>https://tomonorimatsumura.github.io/blog/categories/jenkins/</link><description>Recent content in Jenkins on Mainroad</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Tue, 26 Sep 2017 17:00:20 +0000</lastBuildDate><atom:link href="https://tomonorimatsumura.github.io/blog/categories/jenkins/index.xml" rel="self" type="application/rss+xml"/><item><title>Jenkinsでジョブの設定を一気に書き換える</title><link>https://tomonorimatsumura.github.io/blog/p1331/</link><pubDate>Tue, 26 Sep 2017 17:00:20 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p1331/</guid><description>書き換え find /var/lib/jenkins/jobs -type f -name config.xml -print0 | xargs -0 sed -i &amp;quot;s/git clone-b jenkins-test/git clone -b topic/g&amp;quot; ドライラン(iオプションを無くす) find /var/lib/jenkins/jobs -type f -name config.xml -print0 | xargs -0 sed &amp;quot;s/git clone-b jenkins-test/git clone -b topic/g&amp;quot; 参考サイト 備忘録: [unix] スペースを含むファイル名をfindとxargsで使う方法</description></item><item><title>CentOS7でJenkinsをバックアップ、リストアする</title><link>https://tomonorimatsumura.github.io/blog/p1320/</link><pubDate>Thu, 14 Sep 2017 13:29:22 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p1320/</guid><description>Jenkinsバックアップデータを作成する # Jenkins稼働サーバで systemctl stop jenkins git clone https://github.com/sue445/jenkins-backup-script.git bash jenkins-backup.sh /path/to/jenkins archives.tar.gz Jenkinsをリストアする # Jenkinsを停止する systemctl stop jenkins # 稼働中のJenkinsのデータを消去する rm -rf /var/cache/jenkins/* rm -rf /path/to/jenkins/jobs/ rm -rf /path/to/jenkins/plugins/ rm -rf /path/to/jenkins/users/ rm -rf /path/to/jenkins/secrets/ # バックアップデータをリストアする tar xfvz archives.tar.gz cd jenkins-backup/ mv -f * /path/to/jenkins chown -R jenkins:jenkins /path/to/jenkins # Jenkinsを再起動する systemctl start jenkins 参考サイト バックアップ Jenkinsのバックアップ方法 – Qiita GitHub – sue445/jenkins-backup-script: archive jenkins setting and plugins リストア cpコマンド で確認なしに上書き（Linux） – 創屋ぷれす Redmineチケット Jenkinsのバックアップとリストアについて調べる</description></item><item><title>CentOS7へJenkinsをインストールする</title><link>https://tomonorimatsumura.github.io/blog/p1317/</link><pubDate>Thu, 14 Sep 2017 12:51:12 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p1317/</guid><description>Jenkinsをインストールする # Javaをインストールする yum install java # yumリポジトリにjenkinsのリポジトリを追加する wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo rpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.key # Jenkinsをインストールする yum install jenkins # Jenkinsを起動する systemctl start jenkins # Jenkinsが利用するポートを解放する firewall-cmd --zone=public --permanent --add-port=8080/tcp firewall-cmd --reload # システムのロケールを変更する localectl set-locale LANG=ja_JP.utf8 source /etc/locale.conf 参考サイト CentOS7へのJenkinsのインストール手順 – Qiita [CentOS]CentOS7でのロケール(locale)の確認及び変更 | Zero Configuration Jenkinsの文字コードを確認・設定する方法 – Qiita</description></item><item><title>さくらのVPSにJenkins + PHPUnitをインストールする</title><link>https://tomonorimatsumura.github.io/blog/p402/</link><pubDate>Sun, 09 Dec 2012 03:58:08 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p402/</guid><description>さくらのVPSにJenkins環境を整えるメモ。
Xdebugをインストールする PECLからインストールする
pecl install xdebug PHPUnitをインストールする /usr/share/pear/PHPUnitにインストールされる。インストールコマンドは良く変更されるのでPHPUnitのHPを良く確認する。
pear config-set auto_discover 1 pear install pear.phpunit.de/PHPUnit phpDocumentorをインストールする phpDocumentorの公式サイトを参考にする。/usr/share/pear/PhpDocumentorにインストールされる
pear channel-discover pear.phpdoc.org pear install phpdoc/phpDocumentor-alpha その他のライブラリをインストールする pear channel-discover pear.phpmd.org pear channel-discover pear.symfony-project.com pear channel-discover pear.symfony.com pear channel-discover pecl.php.net pear channel-discover pear.pdepend.org pear channel-discover pear.netpirates.net pear install --alldeps phpunit/phpcpd pear install --alldeps phpmd/PHP_PMD # PHPコードの妥当性を調べるライブラリ 参考サイト CakePHP2.0+Jenkinsで継続的インテグレーションを行う方法 | Ryuzee.com CakePHP2.X+PHPUnit+jenkinsでテストを自動化する | ミラボ</description></item><item><title>CentOS6にJenkinsをインストールする</title><link>https://tomonorimatsumura.github.io/blog/p201/</link><pubDate>Fri, 30 Nov 2012 15:59:15 +0000</pubDate><guid>https://tomonorimatsumura.github.io/blog/p201/</guid><description>Javaをインストールする Javaがインストールされていない場合はインストールする。
rpm -qa java-1.7.0-openjdk yum -y install java-1.7.0-openjdk Jenkinsをインストールする 基本的には公式ページを参考にする。
http://pkg.jenkins-ci.org/redhat/
sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo sudo rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key yum install jenkins Jenkinsを起動する Jenkinsはポート8080がディフォルト。
httpd -k start /sbin/service jenkins start ブラウザからhttp://localhost:8080/へアクセス。
JenkinsとApacheを連携させる まずプロキシの設定をmod_proxy経由で行う。mod_proxyの設定はhttpd.confに書き込む事も出きるが、読みにくくなるのでmod_proxy.confに書き込む。
cd /etc/httpd/conf.d vi mod_proxy.conf # 書き込み内容 ProxyPass /jenkins http://localhost:8080/jenkins ProxyPassReverse /jenkins http://localhost:8080/jenkins ProxyRequests Off Jenkinsの設定ファイルを書き換える
vi /etc/sysconfig/jenkins JENKINS_ARGS=&amp;quot;--prefix=/jenkins&amp;quot; #最終行を書き換え ApacheとJenkinsを立ち上げれば、http://localhost/jenkinsよりJenkinsに入れる
httpd -k stop httpd -k start /sbin/service jenkins start 参考サイト RedHat Linux RPM packages for Jenkins Apache のリバースプロキシの設定方法 | WebOS Goodies jenkinsとapacheの連携 – Dev3TechHack</description></item></channel></rss>